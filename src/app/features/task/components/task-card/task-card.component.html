<app-ui-card [hoverable]="true" [padding]="'small'" class="task-card">
  <div class="task-card-content">
    <div class="task-header">
      <div *ngIf="task.labels && task.labels.length > 0" class="task-labels">
        <span
          *ngFor="let label of task.labels"
          class="task-label"
          [style.backgroundColor]="label.color"
        >
          {{ label.name }}
        </span>
      </div>

      <div class="task-priority" [ngClass]="'priority-' + task.priority">
        <app-ui-icon
          *ngIf="task.priority === 'high' || task.priority === 'urgent'"
          [name]="task.priority === 'urgent' ? 'alert-triangle' : 'alert-circle'"
          [size]="'16'"
        ></app-ui-icon>
      </div>
    </div>

    <h4 class="task-title">{{ task.title }}</h4>

    <div class="task-footer">
      <div class="task-meta">
        <div *ngIf="task.dueDate" class="task-due-date" [ngClass]="{ overdue: isOverdue() }">
          <app-ui-icon name="calendar" [size]="'14'"></app-ui-icon>
          <span>{{ formatDate(task.dueDate) }}</span>
        </div>

        <div *ngIf="task.checklist && task.checklist.length > 0" class="task-checklist">
          <app-ui-icon name="check-circle" [size]="'14'"></app-ui-icon>
          <span>{{ getCompletedChecklistCount() }}/{{ task.checklist.length }}</span>
        </div>
      </div>

      <div *ngIf="task.assigneeId" class="task-assignee">
        <div class="avatar">
          {{ getInitials(task.assigneeId) }}
        </div>
      </div>
    </div>
  </div>
</app-ui-card>
